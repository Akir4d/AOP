"use strict";(self.webpackChunkemergency=self.webpackChunkemergency||[]).push([[823],{5823:(S,d,e)=>{e.r(d),e.d(d,{AccountModule:()=>c});var i=e(433),p=e(6895),a=e(1002),b=e(590),t=e(8256),f=e(6082),y=e(805),u=e(1740),g=e(4247),h=e(7280);function T(o,s){1&o&&(t.TgZ(0,"small",18),t._uU(1,"Username is required"),t.qZA())}function C(o,s){1&o&&(t.TgZ(0,"small",19),t._uU(1,"Password is required"),t.qZA())}function x(o,s){1&o&&t._UZ(0,"i",20)}const v=function(o){return{"is-invalid":o}};class l{constructor(s,r,n,Z,I){this.formBuilder=s,this.route=r,this.router=n,this.accountService=Z,this.alertService=I,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({username:["",i.kI.required],password:["",i.kI.required]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe((0,b.P)()).subscribe({next:()=>{const s=`${document.getElementsByTagName("base")[0].href}`;this.router.navigateByUrl(s)},error:s=>{this.alertService.error(s),this.loading=!1}}))}static#t=this.\u0275fac=function(r){return new(r||l)(t.Y36(i.qu),t.Y36(a.gz),t.Y36(a.F0),t.Y36(f.B),t.Y36(f.c))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:23,vars:11,consts:[[1,"fixed","w-screen","z-5","bg-teal-900","left-0","top-0","h-100"],[1,"grid","grid-nogutter","text-800"],[1,"col-6","hidden","md:flex","overflow-hidden"],["src","assets/emergency/loginhelper.png","alt","Image",1,"md:mr-auto","block","md:h-full",2,"max-height","100vh","clip-path","polygon(0 0, 86% 0%, 100% 100%, 0 100%)"],[1,"col-12","md:col-6","text-center","pl-8","flex","align-items-center"],["header","AOP Emergency Console","subheader","Login with .env credentials"],[3,"formGroup","ngSubmit"],[1,"field","m-2","px-5","py-3"],[1,"p-float-label"],["type","text","pInputText","","formControlName","username",1,"form-control",3,"ngClass"],["for","float-input"],["class","p-error block",4,"ngIf"],["type","password","pInputText","","formControlName","password",1,"form-control",3,"ngClass"],[1,"form-label"],["class","invalid-feedback",4,"ngIf"],[1,"flex","flex-row-reverse","flex-wrap","card-container"],["pButton","","label","Login",3,"disabled"],["class","pi pi-spin pi-spinner",4,"ngIf"],[1,"p-error","block"],[1,"invalid-feedback"],[1,"pi","pi-spin","pi-spinner"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"p-card",5)(6,"form",6),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(7,"div",7)(8,"span",8),t._UZ(9,"input",9),t.TgZ(10,"label",10),t._uU(11,"Username"),t.qZA(),t.YNc(12,T,2,0,"small",11),t.qZA()(),t.TgZ(13,"div",7)(14,"span",8),t._UZ(15,"input",12),t.TgZ(16,"label",13),t._uU(17,"Password"),t.qZA(),t.YNc(18,C,2,0,"small",14),t.qZA()(),t.TgZ(19,"p-footer")(20,"div",15)(21,"button",16),t.YNc(22,x,1,0,"i",17),t.qZA()()()()()()()()),2&r&&(t.xp6(6),t.Q6J("formGroup",n.form),t.xp6(3),t.Q6J("ngClass",t.VKq(7,v,n.submitted&&n.f.username.errors)),t.xp6(3),t.Q6J("ngIf",n.submitted&&n.f.username.errors),t.xp6(3),t.Q6J("ngClass",t.VKq(9,v,n.submitted&&n.f.password.errors)),t.xp6(3),t.Q6J("ngIf",n.submitted&&n.f.password.errors),t.xp6(3),t.Q6J("disabled",n.loading),t.xp6(1),t.Q6J("ngIf",n.loading))},dependencies:[p.mk,p.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,y.$_,u.o,g.Z,h.Hq],encapsulation:2})}const J=[{path:"",component:l}];class m{static#t=this.\u0275fac=function(r){return new(r||m)};static#e=this.\u0275mod=t.oAB({type:m});static#n=this.\u0275inj=t.cJS({imports:[a.Bz.forChild(J),a.Bz]})}var U=e(2174),A=e(5132);class c{static#t=this.\u0275fac=function(r){return new(r||c)};static#e=this.\u0275mod=t.oAB({type:c});static#n=this.\u0275inj=t.cJS({imports:[p.ez,i.UX,m,U.fx,u.j,A.l,g.d,h.hJ]})}}}]);